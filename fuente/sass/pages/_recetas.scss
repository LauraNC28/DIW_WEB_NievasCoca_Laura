@use "../global/variables.scss" as v; // Importa las variables y les asigna el alias "v"
@use "../global/funciones.scss" as f; // Importa las funciones y les asigna el alias "f"

// Estilos generales para el cuerpo de la página
body {
    background-color: v.$color-fondo-recetas; // Color de fondo del cuerpo
    color: v.$color-texto; // Color de texto principal
    font-family: v.$fuente-principal; // Fuente de texto principal
    margin: 0; // Elimina los márgenes predeterminados
    padding: 0; // Elimina el relleno predeterminado
    overflow-x: hidden;
}

/* Estilos para el elemento principal <main> */
main {
    flex-direction: column; /* Alineamos los elementos en columna */
    padding: 2rem; /* Relleno interno del elemento main */
    margin: 0 1rem; /* Márgenes laterales del elemento main */
    
    /* Estilos para la caja de búsqueda */
    .search-box {
        display: flex; /* Usamos flexbox para el diseño */
        align-items: center; /* Alineamos los elementos verticalmente */
        margin: 1rem auto; /* Márgenes reducidos */
        border: 2px solid v.$color-borde-buscador; /* Borde de la caja de búsqueda */
        background-color: v.$color-fondo-buscador; /* Color de fondo de la caja de búsqueda */
        border-radius: 4px; /* Bordes redondeados */
        padding: 0.3rem 0.5rem; /* Relleno interno */
        margin-bottom: 1rem; /* Margen inferior */
        width: 600px; /* Ancho fijo */
        max-width: 90%; /* Ancho máximo del 90% del contenedor */
        
        /* Estilos para la imagen dentro de la caja de búsqueda */
        img {
            width: 1rem; /* Ancho de la imagen */
            height: 1rem; /* Altura de la imagen */
            margin-right: 0.4rem; /* Margen derecho */
        }
        
        /* Estilos para el campo de entrada dentro de la caja de búsqueda */
        input {
            border: none; /* Sin borde */
            outline: none; /* Sin contorno al enfocar */
            flex: 1; /* Ocupa todo el espacio disponible */
        }
    }

    /* Estilos para el menú de categorías móvil */
    .menu-categorias-movil {
        display: none; /* Ocultar el menú móvil en pantallas grandes */
    }

    /* Estilos para el contenedor principal */
    .contenedor-principal {
        display: flex; /* Usamos flexbox para el diseño */
        
        /* Estilos para el menú de categorías */
        .menu-categorias {
            width: 250px; /* Ancho fijo */
            margin-right: 2rem; /* Margen derecho */
            
            /* Estilos para la sección de categorías */
            .categorias {
                background-color: v.$color-fondo; /* Color de fondo */
                border: 1px solid v.$color-borde-menu; /* Borde */
                border-radius: 8px; /* Bordes redondeados */
                overflow: hidden; /* Oculta el contenido que se desborda */
                
                /* Estilos para el título de las categorías */
                h2 {
                    text-align: center; /* Alineación del texto en el centro */
                    padding: 1rem 0; /* Relleno interno */
                    margin: 0; /* Sin márgenes */
                    font-weight: 600; /* Semibold */
                    background-color: v.$color-fondo-categorias; /* Color de fondo */
                }
                
                /* Estilos para la lista de categorías */
                ul {
                    list-style: none; /* Elimina los puntos de la lista */
                    padding: 0; /* Sin relleno interno */
                    margin: 0; /* Sin márgenes */
                    
                    /* Estilos para los elementos de la lista de categorías */
                    li {
                        display: flex; /* Usamos flexbox para el diseño */
                        align-items: center; /* Alineamos los elementos verticalmente */
                        padding: 0.5rem 1rem; /* Relleno interno */
                        border-bottom: 1px solid v.$color-borde-seccion; /* Borde inferior */
                        
                        /* Estilos para el elemento <strong> dentro de la lista */
                        strong {
                            background-color: v.$color-fondo-menu; /* Color de fondo */
                            color: v.$color-texto; /* Color del texto */
                            width: 2rem; /* Ancho fijo */
                            height: 2rem; /* Altura fija */
                            border-radius: 50%; /* Borde redondeado para hacerlo circular */
                            display: flex; /* Usamos flexbox para el diseño */
                            justify-content: center; /* Alineamos el contenido horizontalmente */
                            align-items: center; /* Alineamos el contenido verticalmente */
                            margin-right: 0.5rem; /* Margen derecho */
                            font-family: v.$fuente-principal; /* Fuente Open Sans */
                            font-weight: 400; /* Regular */
                        }
                        
                        /* Estilos para los enlaces dentro de la lista */
                        a {
                            text-decoration: none; /* Sin subrayado */
                            color: v.$color-texto; /* Color del texto */
                            font-family: v.$fuente-principal; /* Fuente Open Sans */
                            font-weight: 600; /* Semibold */
                            flex: 1; /* Ocupa todo el espacio disponible */
                        }
                    }
                    
                    /* Estilos para el último elemento de la lista */
                    li:last-child {
                        border-bottom: none; /* Sin borde inferior */
                    }
                }
            }
        }
    }

    /* Estilos para la sección de recetas */
    .recetas {
        text-align: center; /* Alineación del texto en el centro */
        margin: 20px 0; /* Márgenes superior e inferior */
        background-color: v.$color-seccion-titulo; /* Color de fondo */
        border: 2px solid v.$color-borde-seccion; /* Borde */
        font-family: v.$fuente-secundaria; /* Fuente Montserrat */
        font-weight: bold; /* Negrita */
        padding: 10px; /* Relleno interno */
        border-radius: 8px; /* Bordes redondeados */
        
        /* Estilos para el título de las recetas */
        h1 {
            font-size: 2em; /* Tamaño de la fuente */
        }
    }

    /* Estilos para la cuadrícula de recetas */
    .recetas-grid {
        display: flex; /* Usamos flexbox para el diseño */
        justify-content: center; /* Alineamos los elementos horizontalmente */
        gap: 20px; /* Espacio entre las recetas */
        flex-wrap: wrap; /* Permite que las recetas se ajusten a varias líneas */
        max-width: 100vw; /* Ancho máximo del 100% del viewport */
        overflow: hidden; /* Oculta el contenido que se desborda */
        max-width: 100%;

        /* Variables para el número de columnas */
        $columns: f.grid-columns(1024px); /* Ejemplo: Para un ancho de pantalla de 1024px */

        /* Estilos para una columna */
        @if $columns == 1 {
            .receta {
                max-width: 100%;
            }
        } 
        /* Estilos para dos columnas */
        @else if $columns == 2 {
            .receta {
                max-width: 45%; /* Ajusta el ancho para dos columnas */
            }
        } 
        /* Estilos para tres columnas */
        @else {
            .receta {
                max-width: 30%;
            }
        }

        /* Interpolación para clases dinámicas */
        @for $i from 1 through 3 {
            .columna-#{$i} {
                /* Estilos específicos para cada columna (si existen) */
                @if $i == 2 { /* Ejemplo: estilos solo para la columna 2 */
                    background-color: lightblue;
                }
            }
        }
    }

    /* Estilos para las tarjetas de recetas */
    .receta {
        background-color: v.$color-fondo-receta; /* Color de fondo */
        font-family: v.$fuente-secundaria; /* Fuente Montserrat */
        font-weight: 600; /* Semibold */
        text-align: center; /* Alineación del texto en el centro */
        padding: 15px; /* Relleno interno */
        border-radius: 10px; /* Bordes redondeados */
        flex: 1; /* Ocupa todo el espacio disponible */
        max-width: 100%;
        flex-direction: column;
        align-items: center;

        /* Operador para calcular un tamaño dinámico (opcional) */
        $padding-extra: 10px;
        padding: 15px + $padding-extra; // Suma un valor extra al padding
    }

    /* Estilos para las imágenes dentro de las tarjetas de recetas */
    .receta picture {
        display: block; /* Ocupa todo el ancho disponible */
        width: 100%; /* Ancho del 100% de la tarjeta */
        height: auto; /* Altura automática para mantener la proporción */
    }

    .receta img {
        width: 100%; /* Ancho del 100% del contenedor */
        height: auto; /* Altura automática para mantener la proporción */
        object-fit: contain; /* Ajusta la imagen al contenedor sin distorsionar */
        border-radius: 8px; /* Bordes redondeados */
        max-width: 100%; /* La imagen no superará el ancho de su contenedor */
        height: auto; /* Mantiene la proporción de la imagen */
        margin-bottom: 10px; /* Reduce el margen inferior */
    }

    /* Evitar carga innecesaria de imágenes en Firefox */
    @supports (-moz-appearance: none) {
        .receta img {
            max-width: 100%; /* Limita el tamaño según el contenedor */
            width: auto; /* Permite que Firefox elija la imagen óptima */
        }
    }

    .receta p {
        margin-top: 10px;
        margin-bottom: 15px;
        font-size: 0.9em;
        line-height: 1.4;
    }

    /* Estilos para los botones de receta */
    .boton-receta {
        background-color: v.$color-boton; /* Color de fondo del botón */
        border: 2px solid v.$color-borde-boton; /* Borde del botón */
        font-family: v.$fuente-decorativa; /* Fuente de texto decorativa */
        font-weight: 400; /* Texto normal */
        padding: 8px 15px; /* Relleno interno */
        border-radius: 8px; /* Bordes redondeados */
        cursor: pointer; /* Cursor de puntero al pasar por encima */
        color: v.$color-texto; /* Color de texto */

        &:hover { /* Estilos al pasar el ratón por encima */
            background-color: v.$color-borde-boton; /* Cambia el color de fondo */
        }
    }
}

@media (max-width: 1024px) {
    .search-box {
        width: 90%;
        margin: 20px auto;
    }

    .search-box input[type="text"] {
        padding: 2px 4px;
        font-size: 0.7em;
        width: 90%;
    }

    .menu-categorias {
        display: none;
    }

    .menu-categorias-movil {
        position: relative;
        width: 100%;
        display: block;
        margin-top: 10px;
        z-index: 9999 !important;
        display: block !important;
    }

    .menu-categorias-movil .categorias {
        display: flex;
        align-items: center;
        overflow-x: auto;
        white-space: nowrap;
        padding: 0.5rem;
        background-color: v.$color-fondo-menu;
        border-radius: 8px;
    }

    .menu-categorias-movil .categorias li {
        display: inline-block;
    }

    .menu-categorias-movil .categorias li a {
        display: block;
        padding: 0.5rem 1rem;
        border: 1px solid v.$color-borde-seccion;
        border-radius: 4px;
        text-decoration: none;
        color: v.$color-texto;
        background-color: v.$color-fondo-categorias;
        font-weight: 400;
        font-family: v.$fuente-principal;
    }

    .receta {
        width: 100%;
        max-width: 80%; /* Reduce el ancho de las tarjetas */
        margin-bottom: 20px;
        padding: 10px; /* Reduce el padding */
    }

    .receta img {
        max-width: 80%; /* Reduce el tamaño de las imágenes */
    }

    .recetas-grid {
        gap: 10px; /* Reduce el espacio entre las tarjetas */
    }

    .receta h2 {
        font-size: 1.2em; /* Reduce el tamaño de fuente del título */
    }

    .receta p {
        font-size: 0.9em; /* Reduce el tamaño de fuente del párrafo */
    }

    .boton-receta {
        padding: 8px 16px; /* Reduce el padding del botón */
    }

    /* Estilos específicos para max-width: 768px */
    @media (max-width: 768px) {
        .recetas {
            padding: 5px;
            margin: 10px 0;
        }

        .recetas h1 {
            font-size: 1.9em;
            margin-bottom: 18px;
        }

        .recetas-grid {
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }

        .receta {
            display: flex;
            text-align: center;
            max-width: 90%;
            padding: 5px;
        }

        .receta img {
            display: block;
            margin: 0 auto;
            max-width: 80%;
        }

        .receta p {
            font-size: 1.1em;
            line-height: 1.2;
            margin-bottom: 24px;
        }

        .boton-receta {
            justify-content: center;
            padding: 12px 24px;
        }
    }
}